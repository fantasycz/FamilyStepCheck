<view class="wall-container">
  <block wx:if="{{posts && posts.length > 0}}">
    <block wx:for="{{posts}}" wx:key="_id">
      <view class="post-card">
        <view class="user-info">
          <image class="avatar" src="{{item.userInfo.avatarUrl}}" mode="aspectFill"></image>
          <view class="text-info">
            <text class="nickname">{{item.userInfo.nickName}}</text>
            <text class="time">{{item.dateStr}}</text>
          </view>
        </view>
        
        <view class="content">
          <view class="step-tag">ä»Šæ—¥æ­¥æ•°ï¼š<text class="bold">{{item.stepsDisplay}}</text></view>
          <text class="mood-text">{{item.mood}}</text>
          
          <image 
            wx:if="{{item.imgFileID}}" 
            class="post-image" 
            src="{{item.imgFileID}}" 
            mode="widthFix" 
            lazy-load="{{true}}"
            bindtap="previewImg" 
            data-url="{{item.imgFileID}}">
          </image>
        </view>

        <view class="interact-bar">
          <view class="like-btn" bindtap="onLike" data-id="{{item._id}}">
            <text class="heart-icon {{item.isLiked ? 'liked' : ''}}">{{item.isLiked ? 'â¤ï¸' : 'ğŸ¤'}}</text>
            <text class="like-count">{{item.likeCount || 0}}</text>
          </view>
        </view>
      </view>
    </block>

    <view class="load-status">
      <view wx:if="{{loading}}" class="loading-box">
        <view class="loading-spin"></view>
        <text>æ­£åœ¨åŠ è½½æ›´å¤š...</text>
      </view>
      <view wx:if="{{!hasMore && posts.length > 0}}" class="no-more">â€”â€” å·²ç»åˆ°åº•å•¦ â€”â€”</view>
    </view>
  </block>

  <view class="no-data" wx:if="{{posts.length === 0 && !loading}}">
    <text>è¿˜æ²¡æœ‰äººæ‰“å¡å“¦ï¼Œå¿«å»åšç¬¬ä¸€ä¸ªå§ï¼</text>
  </view>
</view>